WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WSpinBox",function(B,c,t,i,g,e,h,m,p,q){function n(){return c.readOnly}function r(){var a=f.data("lobj"),b="";if(a!==undefined){b=a.getValue();if(b==="")b=i+"0"+g}else b=c.value;if(b.substr(0,i.length)==i){b=b.substr(i.length);if(b.length>g.length&&b.substr(b.length-g.length,g.length)==g){b=b.substr(0,b.length-g.length);if(q)b=b.split(q).join("");b=b.replace(p,".");return Number(b)}}return null}function u(a){var b=f.data("lobj");if(a>h)if(v){range=h-e;
a=e+(a-e)%(range+1)}else a=h;else if(a<e)if(v){range=h-e;a=h-(Math.abs(a-e)-1)%(range+1)}else a=e;a=a.toFixed(t);a=a.replace(".",p);var k=a.indexOf(p),j="";if(k!==-1){for(var l=0;l<k;l++){j+=a.charAt(l);if(l<k-1&&(k-l-1)%3===0)j+=q}j+=a.substr(k)}else j=a;if(b!==undefined)b.setValue(i+j+g);else c.value=i+j+g;s=true}function x(){var a=r();if(a!==null){a+=m;u(a)}}function y(){var a=r();if(a!==null){a-=m;u(a)}}jQuery.data(c,"obj",this);var d=B.WT,f=$(c),o=null,z,s=false,A=null,w=false,v=false;this.setIsDoubleSpinBox=
function(a){w=a;this.configure(t,i,g,e,h,m)};this.setWrapAroundEnabled=function(a){v=a};this.configure=function(a,b,k,j,l,C){t=a;i=b;g=k;e=j;h=l;m=C;A=new (w||typeof d.WIntValidator==="undefined"?d.WDoubleValidator:d.WIntValidator)(true,e,h,"Must be a number","Must be a number","The number must be at least "+e,"The number may be at most "+h)};this.mouseOut=function(){f.removeClass("dn").removeClass("up")};this.mouseMove=function(a,b){if(!n())if(o){a=d.pageCoordinates(b).y-o.y;b=z;if(b!==null){b-=
a*m;u(b)}}else{a=d.widgetCoordinates(c,b);if(f.hasClass("dn")||f.hasClass("up"))f.removeClass("dn").removeClass("up");if(a.x>c.offsetWidth-16){b=c.offsetHeight/2;if(a.y>=b-1&&a.y<=b+1)c.style.cursor="crosshair";else{c.style.cursor="default";a.y<b-1?f.addClass("up"):f.addClass("dn")}}else if(c.style.cursor!="")c.style.cursor=""}};this.mouseDown=function(a,b){d.capture(null);if(!n())if(c.style.cursor=="crosshair"){d.capture(null);d.capture(c);f.addClass("unselectable");o=d.pageCoordinates(b);z=r()}else{a=
d.widgetCoordinates(c,b);if(a.x>c.offsetWidth-16){d.cancelEvent(b);d.capture(c);f.addClass("unselectable");a.y<c.offsetHeight/2?d.eventRepeat(function(){x()}):d.eventRepeat(function(){y()})}}};this.mouseUp=function(a){f.removeClass("unselectable");if(!n()){if(s||o!=null){o=null;a.onchange()}d.stopRepeat()}};this.keyDown=function(a,b){if(!n())if(b.keyCode==40)d.eventRepeat(function(){y()});else b.keyCode==38&&d.eventRepeat(function(){x()})};this.keyUp=function(a){if(!n()){if(s){s=false;a.onchange()}d.stopRepeat()}};
this.setLocale=function(a,b){p=a;q=b};this.validate=function(){var a=r();if(a===null)a="a";return A.validate(a)};this.setIsDoubleSpinBox(w)});
